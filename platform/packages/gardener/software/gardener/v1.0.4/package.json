{
  "name": "gardener",
  "version": "1.0.4",
  "description": "A node process manager for couchapps that depend on npm modules, or have npm modules bundled with them.",
  "keywords": [
    "garden",
    "couchapp",
    "couchdb"
  ],
  "config": {
    "garden": "http://localhost:5984/dashboard"
  },
  "scripts": {
    "start": "node bin/gardener",
    "test": "make test"
  },
  "bin": {
    "gardener": "./bin/gardener"
  },
  "directories": [
    "bin",
    "lib"
  ],
  "dependencies": {
    "async": "0.2.6",
    "follow": "0.8.0",
    "forever-monitor": "1.2.3",
    "request": "2.12.0",
    "url": "0.7.9",
    "semver": "1.1.2",
    "winston": "0.7.1",
    "args": "0.0.3",
    "safe-url": "0.0.0",
    "underscore": "1.4.4",
    "rimraf": "2.1.4",
    "npm": ">=1.1.0",
    "mkdirp": "~0.3.5"
  },
  "repository": {
    "type": "git",
    "url": "http://github.com/garden20/gardener.git"
  },
  "maintainers": [
    {
      "name": "Ryan Ramage",
      "url": "https://github.com/ryanramage"
    }
  ],
  "readme": "gardener\n========\n\nPoint a gardener at couchdb and it will install, update, and run node processes that design-docs and couchapps depend on.\n\n![gardener](http://openclipart.org/people/johnny_automatic/johnny_automatic_a_pixie_waters.svg)\n\n[![Build Status](https://secure.travis-ci.org/garden20/gardener.png)](http://travis-ci.org/garden20/gardener)\n\n\nUsage\n------\n\n    npm install gardener -g\n    gardener http://admin:pass@localhost:5984\n\nThis tells the gardener to watch all the databases on your local couch. But what does it do?\n\n\nSimple. It looks for ```node_modules``` on design docs. Like this:\n\n```\n  {\n    \"id\": \"_design/twitter_things\",\n    \"views\" : {\n        \"map\" : \"by_date\" : \"function(doc) { emit(doc.date, null); }\"\n    }\n    \"node_modules\" : \"twitter-loader,worker-generate-thumbnails@0.4.6\"\n  }\n\n```\n\nIn this case, gardener will npm install twitter-loader and worker-generate-thumbnails and run them. Gardener passes them the couch url, and optional username and password. It will look something like this:\n\n```\n$ gardener http://localhost:5984\ninfo: [gardener] polling couch for design doc changes.\ninfo: [gardener] installing twitter-loader-1.0.1.tgz start_immediate=true, module_digest=md5-COu0+gC6Cvk+UPOB3yz6iQ==, module_name=twitter-loader-1.0.1.tgz, package_version=1.0.1, local_name=aHR0cDovL2xvY2FsaG9zdDo1OTg0L3Rlc3QvX2Rlc2lnbi9tdWNreW11Y2s=, ddoc_url=http://localhost:5984/test/_design/myapp, db_url=http://localhost:5984/test\nnpm http GET https://registry.npmjs.org/twitter-loader\nnpm http 200 https://registry.npmjs.org/twitter-loader/twitter-loader-1.0.1.tgz\nnpm WARN package.json twitter-loader@1.0.1 No README.md file found!\ntwitter-loader@1.0.1 installed_packages/node_modules/twitter-loader\ninfo: [gardener] starting package [twitter-loader] in working_dir/aHR0cDovL2xvY2FsaG9zdDo1OTg0L3Rlc3QvX2Rlc2lnbi9tdWNreW11Y2s=\ninfo: [twitter-loader] Twitter loader is dumping tweets into http://localhost:5984/test\n\n```\nYay, twitter loader has been installed, run, and hooked up to the right db.\n\n\nHow-to Node Program\n-------------------\n\nCreate a directory called 'twitter-loader'. Add `server.js` to it that looks like:\n\n```\n// the gardener will set the COUCH_URL variable. Now do what you want!\nvar db_url = process.env.COUCH_URL || 'http://localhost:5984/test';\n\n// do something and save to couch\nload_all_of_twitter(db_url);\n\n```\n\nAdd a package.json file. npm publish.\n\n(When publishing try to use the couchdb-worker tag so it is easy for others to find and resuse).\n\n\nSo like, what could I do with it?\n-------------------------------\n\nUse some existing workers on npm: [tagged couchdb-worker on npm](https://npmjs.org/browse/keyword/couchdb-worker)\n\nHere are just some ideas, you can extrapolate:\n\n - use existing workers from [hoodie](https://github.com/hoodiehq) or [null2/jo](https://github.com/null2/couchdb-worker)\n - [Make a queue service](https://github.com/iriscouch/cqs)\n - [RSS feed archiving](https://github.com/maxogden/couchpubtato)\n - [download all the things](https://github.com/maxogden/download-all-the-things)\n - Add a [pixel-tracker](https://github.com/tblobaum/pixel-tracker) and store in couch\n - Add chained map reduce to couchdb with something like [couch-incarnate](https://github.com/afters/couch-incarnate)\n - and much more!\n\n\n\n\nAdvanced Usage:\n---------------\n```\nUsage: gardener <url> [OPTIONS]\n\nAvailable OPTIONS:\n--include, -i  Comma seperated db and design docs to include.\n--exclude, -e  Comma seperated db and design docs to exclude.\n--web, -w\t   Turn on a local http server and add turn on the /_garden proxy to it from couch (\"true\" or \"false\", \"true\" by default)\n--host, -h\t   The host name (or IP address) to bind the http server to. (localhost by default)\n--port, -p\t   The port to bind the http server to. (integer, 25984 by default)\n--upnp\tUse upnp to open the port on the firewall, and use the public ip (\"true\" or \"false\", \"false\" by default)\n--user\tThe username given to the node module for connecting to couch\n--pass  The password given to the node module for connecting to couch\n--time, -t\tPolling interval (seconds) to check couch for changes to design docs (integer, 30 by default)\n--stdinpass when specified, gardener will read a single line from stdin, which will be used as the password when connecting to couch\n\n```\n\nsee [examples](./examples.md) for examples of commandline usage.\n\n\nSlim\n----\n\nTo reduce the footprint of gardener dependencies, not all are listed in the dependencies section. To use some features you will have to do an addition npm install.\n\n  - web, you need to ```npm install tako```\n  - upnp, you need to ```npm install nat-upnp```\n  - testing (or make or npm test) ```npm install mocha```\n\nI am probably doing this wrong. Please let me know a better solution.\n\n\n\nAbout Version Numbers\n----------------------\n\ngardener follows [semver-ftw](http://semver-ftw.org/). Dont think 1.0.0 means production ready yet. There were some breaking changes, so had to move up the major version.\n\n\n\n\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/garden20/gardener/issues"
  },
  "homepage": "https://github.com/garden20/gardener",
  "_id": "gardener@1.0.4",
  "_from": "gardener@"
}
